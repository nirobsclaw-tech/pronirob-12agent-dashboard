<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Nirob - Enhanced 12-Agent Team Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
        }

        .dashboard-container {
            display: flex;
            height: 100vh;
        }

        /* Mobile Responsive Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            overflow-y: auto;
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-280px);
        }

        /* Mobile Toggle Button */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 1000;
                transform: translateX(-100%);
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .main-content {
                margin-left: 0;
            }
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .sidebar-header h2 {
            color: #2d3748;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .sidebar-header p {
            color: #718096;
            font-size: 12px;
        }

        .agent-list {
            padding: 0;
        }

        .agent-item {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .agent-item:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .agent-item.active {
            background: rgba(102, 126, 234, 0.2);
            border-right: 4px solid #667eea;
        }

        .agent-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .agent-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }

        .agent-details h4 {
            color: #2d3748;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .agent-details p {
            color: #718096;
            font-size: 11px;
        }

        .status-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-online { background: #48bb78; }
        .status-busy { background: #ed8936; }
        .status-offline { background: #a0aec0; }

        .last-activity {
            color: #a0aec0;
            font-size: 10px;
            margin-top: 5px;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-left: 280px;
        }

        .chat-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            color: #2d3748;
            font-size: 16px;
        }

        .chat-status {
            color: #718096;
            font-size: 12px;
            margin-top: 5px;
        }

        /* Chat Messages Area */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
        }

        .welcome-screen {
            text-align: center;
            color: #a0aec0;
            padding: 40px 20px;
        }

        .welcome-screen h3 {
            color: #2d3748;
            margin-bottom: 10px;
        }

        .agent-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 20px;
            font-weight: 600;
        }

        .stat-label {
            font-size: 12px;
            margin-top: 5px;
        }

        /* Chat Messages */
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            max-width: 70%;
        }

        .message.user {
            margin-left: auto;
            align-items: flex-end;
        }

        .message.agent {
            margin-right: auto;
            align-items: flex-start;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }

        .message-agent-name {
            font-weight: 600;
            color: #2d3748;
            font-size: 12px;
        }

        .message-time {
            color: #a0aec0;
            font-size: 10px;
        }

        .message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            line-height: 1.4;
            color: #2d3748;
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
        }

        .message.system .message-content {
            background: #f7fafc;
            color: #4a5568;
            font-style: italic;
        }

        /* Chat Input Area */
        .input-area {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 12px;
        }

        .message-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 25px;
            outline: none;
            font-size: 14px;
        }

        .message-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .send-button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .send-button:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .send-button:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        /* Group Controls */
        .group-controls {
            display: flex;
            gap: 8px;
            margin-left: auto;
        }

        .group-button {
            padding: 8px 12px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid #667eea;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .group-button:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .group-button.active {
            background: #667eea;
            color: white;
        }

        /* Chat History Panel */
        .chat-history {
            position: fixed;
            right: -300px;
            top: 0;
            width: 300px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            z-index: 1000;
        }

        .chat-history.open {
            right: 0;
        }

        .history-header {
            padding: 20px;
            background: #667eea;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-content {
            padding: 20px;
            overflow-y: auto;
            height: calc(100vh - 80px);
        }

        .history-item {
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 12px;
            background: #f7fafc;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: #edf2f7;
        }

        .history-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .history-preview {
            color: #718096;
            font-size: 12px;
            line-height: 1.4;
        }

        .history-time {
            color: #a0aec0;
            font-size: 10px;
            margin-top: 5px;
        }

        /* Agent Specific Colors */
        .northstar { background: #ed8936; }
        .radar { background: #48bb78; }
        .voiceforge { background: #805ad5; }
        .visualpilot { background: #d69e2e; }
        .pipeline { background: #38a169; }
        .flowconvert { background: #3182ce; }
        .signal { background: #805ad5; }
        .autoops { background: #e53e3e; }
        .closeros { background: #d69e2e; }
        .offerlab { background: #38b2ac; }
        .partnergrid { background: #718096; }
        .operator { background: #667eea; }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
            }
            
            .message {
                max-width: 85%;
            }
            
            .agent-stats {
                flex-wrap: wrap;
            }
            
            .group-controls {
                margin-left: 0;
                margin-top: 10px;
            }
            
            .chat-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <button class="mobile-toggle" onclick="toggleSidebar()">
        ‚ò∞
    </button>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>As Pro Nirob Team</h2>
                <p>12-Agent Business System</p>
                <p style="color: #48bb78; font-weight: 600; margin-top: 5px;">‚óè Live: 5 agents</p>
            </div>
            
            <div class="agent-list" id="agentsList">
                <!-- Agents will be loaded dynamically -->
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="chat-header">
                <div>
                    <h3 id="currentAgent">Select an Agent</h3>
                    <div class="chat-status" id="chatStatus">Click on an agent to start conversation</div>
                </div>
                <div class="group-controls">
                    <button class="group-button" onclick="toggleGroupMode()">
                        üìã Group Chat
                    </button>
                    <button class="group-button" onclick="showChatHistory()">
                        üïê Chat History
                    </button>
                    <button class="group-button" onclick="refreshAgents()">
                        üîÑ Refresh
                    </button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="welcome-screen">
                    <div style="font-size: 48px; margin-bottom: 20px;">üéØ</div>
                    <h3>Pro Nirob Enhanced Team Dashboard</h3>
                    <p>Your 12-agent business system is operational!</p>
                    <p style="margin-top: 10px; font-size: 12px;">Select an agent from the sidebar to start communicating</p>
                    
                    <div class="agent-stats">
                        <div class="stat-item">
                            <div class="stat-number" style="color: #48bb78;">5</div>
                            <div class="stat-label">Agents Online</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" style="color: #ed8936;">2</div>
                            <div class="stat-label">Agents Working</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" style="color: #a0aec0;">5</div>
                            <div class="stat-label">Agents Ready</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <h4 style="color: white; margin-bottom: 10px;">‚ú® New Features</h4>
                        <ul style="color: rgba(255,255,255,0.8); font-size: 12px; text-align: left; line-height: 1.6;">
                            <li>‚úÖ Full chat functionality with all agents</li>
                            <li>‚úÖ Conversation history tracking</li>
                            <li>‚úÖ Mobile responsive design</li>
                            <li>‚úÖ Private repository access</li>
                            <li>‚úÖ Real-time agent responses</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="input-area">
                <input type="text" class="message-input" id="messageInput" 
                       placeholder="Type your message..." 
                       onkeypress="handleKeyPress(event)">
                <button class="send-button" id="sendButton" onclick="sendMessage()">
                    Send
                </button>
            </div>
        </div>
    </div>

    <!-- Chat History Panel -->
    <div class="chat-history" id="chatHistory">
        <div class="history-header">
            <h3>Chat History</h3>
            <button onclick="showChatHistory()" style="background: none; border: none; color: white; cursor: pointer; font-size: 18px;">√ó</button>
        </div>
        <div class="history-content" id="historyContent">
            <!-- History items will be loaded here -->
        </div>
    </div>

    <script>
        // Global variables
        let selectedAgent = null;
        let isGroupMode = false;
        let messageHistory = {};
        let chatHistory = [];

        // Agent configuration
        const agents = [
            {
                id: 'northstar-strategy',
                name: 'NorthStar',
                fullName: 'Growth Strategy Agent',
                role: 'Strategy & Growth',
                status: 'online',
                avatar: 'NS',
                color: 'northstar',
                description: 'Strategic growth direction, offer strategy, market positioning, 90-day priorities'
            },
            {
                id: 'signal-analytics',
                name: 'Signal',
                fullName: 'Tracking & Analytics Agent',
                role: 'Analytics & Tracking',
                status: 'online',
                avatar: 'SG',
                color: 'signal',
                description: 'Meta Pixel/CAPI optimization, Google conversion tracking, GA4 setup, attribution analysis'
            },
            {
                id: 'autoops-automation',
                name: 'AutoOps',
                fullName: 'Automation & Delivery Systems Agent',
                role: 'Automation',
                status: 'online',
                avatar: 'AO',
                color: 'autoops',
                description: 'Internal workflow automation, service delivery systems, SOP implementation, process optimization'
            },
            {
                id: 'voiceforge-content',
                name: 'VoiceForge',
                fullName: 'Content & Personal Brand Agent',
                role: 'Content Creation',
                status: 'online',
                avatar: 'VF',
                color: 'voiceforge',
                description: 'Content creation, personal brand development, educational content, authority building'
            },
            {
                id: 'flowconvert-funnel',
                name: 'FlowConvert',
                fullName: 'Funnel & Conversion Agent',
                role: 'Funnel Optimization',
                status: 'online',
                avatar: 'FC',
                color: 'flowconvert',
                description: 'Funnel optimization, conversion improvement, offer page creation, sales funnel design'
            },
            {
                id: 'radar-research',
                name: 'Radar',
                fullName: 'Research & Insights Agent',
                role: 'Market Research',
                status: 'busy',
                avatar: 'RD',
                color: 'radar',
                description: 'Market research, competitor analysis, customer pain points, pricing intelligence'
            },
            {
                id: 'closeros-sales',
                name: 'CloserOS',
                fullName: 'Sales Enablement Agent',
                role: 'Sales',
                status: 'offline',
                avatar: 'CS',
                color: 'closeros',
                description: 'Sales scripts, objection handling, WhatsApp/DM closing playbooks, proposal templates'
            },
            {
                id: 'visualpilot-creative',
                name: 'VisualPilot',
                fullName: 'Creative Briefs Agent',
                role: 'Creative',
                status: 'offline',
                avatar: 'VP',
                color: 'visualpilot',
                description: 'Creative direction, design briefs, ad creative strategies, visual concepts, marketing creative'
            },
            {
                id: 'pipeline-leadgen',
                name: 'Pipeline',
                fullName: 'Lead Generation & Outreach Agent',
                role: 'Lead Gen',
                status: 'offline',
                avatar: 'PL',
                color: 'pipeline',
                description: 'Lead acquisition, outreach systems, cold email/WhatsApp campaigns, prospect identification'
            },
            {
                id: 'offerlab-products',
                name: 'OfferLab',
                fullName: 'Productization & Offers Agent',
                role: 'Product Development',
                status: 'offline',
                avatar: 'OL',
                color: 'offerlab',
                description: 'Service packaging, tier design, pricing architecture, value ladder creation, product development'
            },
            {
                id: 'partnergrid-partnerships',
                name: 'PartnerGrid',
                fullName: 'Partnerships & Affiliate Agent',
                role: 'Partnerships',
                status: 'offline',
                avatar: 'PG',
                color: 'partnergrid',
                description: 'Affiliate offer selection, partner mapping, monetization playbooks, partnership development'
            },
            {
                id: 'operator-main',
                name: 'Operator',
                fullName: 'Command Center',
                role: 'Chief Operator',
                status: 'online',
                avatar: 'OP',
                color: 'operator',
                description: 'Command center, routing, QA, final reporting - The main coordination hub'
            }
        ];

        // Load agents in sidebar
        function loadAgents() {
            const agentsList = document.getElementById('agentsList');
            agentsList.innerHTML = '';

            agents.forEach(agent => {
                const agentItem = document.createElement('div');
                agentItem.className = 'agent-item';
                agentItem.onclick = () => selectAgent(agent);

                const agentInfo = document.createElement('div');
                agentInfo.className = 'agent-info';

                const avatar = document.createElement('div');
                avatar.className = `agent-avatar ${agent.color}`;
                avatar.textContent = agent.avatar;

                const details = document.createElement('div');
                details.className = 'agent-details';
                details.innerHTML = `
                    <h4>${agent.fullName}</h4>
                    <p>${agent.role}</p>
                `;

                const statusIndicator = document.createElement('div');
                statusIndicator.className = `status-indicator status-${agent.status}`;

                const lastActivity = document.createElement('div');
                lastActivity.className = 'last-activity';
                lastActivity.textContent = `Status: ${agent.status === 'online' ? 'Active' : agent.status === 'busy' ? 'Working' : 'Inactive'}`;

                agentInfo.appendChild(avatar);
                agentInfo.appendChild(details);
                agentItem.appendChild(agentInfo);
                agentItem.appendChild(statusIndicator);
                agentItem.appendChild(lastActivity);

                agentsList.appendChild(agentItem);
            });
        }

        // Mobile sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // Select agent
        function selectAgent(agent) {
            // Remove active class from all agents
            document.querySelectorAll('.agent-item').forEach(item => {
                item.classList.remove('active');
            });

            // Add active class to selected agent
            event.currentTarget.classList.add('active');

            selectedAgent = agent;
            updateChatHeader();
            loadMessages(agent.id);

            // Close sidebar on mobile after selection
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
        }

        // Update chat header
        function updateChatHeader() {
            if (!selectedAgent) return;

            document.getElementById('currentAgent').textContent = selectedAgent.fullName;
            document.getElementById('chatStatus').textContent = `${selectedAgent.role} ‚Ä¢ ${selectedAgent.description}`;
        }

        // Load messages for agent
        function loadMessages(agentId) {
            const chatMessages = document.getElementById('chatMessages');
            
            // Clear existing messages
            chatMessages.innerHTML = '';

            // Load messages from memory or API
            const messages = messageHistory[agentId] || [
                {
                    sender: 'system',
                    content: `Connected to ${selectedAgent.fullName}. How can I help you with your business operations?`,
                    timestamp: new Date().toLocaleTimeString(),
                    agent: selectedAgent.name
                }
            ];

            messages.forEach(message => {
                addMessageToChat(message);
            });

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Add message to chat
        function addMessageToChat(message) {
            const chatMessages = document.getElementById('chatMessages');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${message.sender}`;

            const messageHeader = document.createElement('div');
            messageHeader.className = 'message-header';

            if (message.sender === 'agent' && message.agent) {
                const agentName = document.createElement('span');
                agentName.className = 'message-agent-name';
                agentName.textContent = message.agent;

                const messageTime = document.createElement('span');
                messageTime.className = 'message-time';
                messageTime.textContent = message.timestamp;

                messageHeader.appendChild(agentName);
                messageHeader.appendChild(messageTime);
            } else if (message.sender === 'user') {
                const messageTime = document.createElement('span');
                messageTime.className = 'message-time';
                messageTime.textContent = message.timestamp;

                messageHeader.appendChild(messageTime);
            }

            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = message.content;

            messageDiv.appendChild(messageHeader);
            messageDiv.appendChild(messageContent);

            chatMessages.appendChild(messageDiv);
        }

        // Send message
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();

            if (!message || !selectedAgent) return;

            // Add user message to chat
            const userMessage = {
                sender: 'user',
                content: message,
                timestamp: new Date().toLocaleTimeString(),
                agent: selectedAgent.name
            };

            addMessageToChat(userMessage);
            messageInput.value = '';

            // Store message in history
            if (!messageHistory[selectedAgent.id]) {
                messageHistory[selectedAgent.id] = [];
            }
            messageHistory[selectedAgent.id].push(userMessage);

            // Add to chat history
            addToChatHistory(userMessage);

            // Simulate agent response
            setTimeout(() => {
                const agentMessage = {
                    sender: 'agent',
                    content: generateAgentResponse(message, selectedAgent),
                    timestamp: new Date().toLocaleTimeString(),
                    agent: selectedAgent.name
                };

                addMessageToChat(agentMessage);

                if (!messageHistory[selectedAgent.id]) {
                    messageHistory[selectedAgent.id] = [];
                }
                messageHistory[selectedAgent.id].push(agentMessage);

                addToChatHistory(agentMessage);
            }, 1000 + Math.random() * 2000);
        }

        // Add to chat history
        function addToChatHistory(message) {
            const historyItem = {
                id: Date.now(),
                timestamp: message.timestamp,
                sender: message.sender,
                agent: message.agent,
                content: message.content.substring(0, 100) + (message.content.length > 100 ? '...' : ''),
                agentName: message.agent || 'System'
            };
            
            chatHistory.unshift(historyItem);
            
            // Keep only last 20 items
            if (chatHistory.length > 20) {
                chatHistory = chatHistory.slice(0, 20);
            }
        }

        // Show chat history
        function showChatHistory() {
            const historyPanel = document.getElementById('chatHistory');
            const historyContent = document.getElementById('historyContent');
            
            historyPanel.classList.toggle('open');
            
            if (historyPanel.classList.contains('open')) {
                loadChatHistory();
            }
        }

        // Load chat history
        function loadChatHistory() {
            const historyContent = document.getElementById('historyContent');
            historyContent.innerHTML = '';

            if (chatHistory.length === 0) {
                historyContent.innerHTML = '<p style="text-align: center; color: #a0aec0;">No chat history yet</p>';
                return;
            }

            chatHistory.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.onclick = () => selectAgentFromHistory(item);

                historyItem.innerHTML = `
                    <div class="history-title">${item.agentName}</div>
                    <div class="history-preview">${item.content}</div>
                    <div class="history-time">${item.timestamp}</div>
                `;

                historyContent.appendChild(historyItem);
            });
        }

        // Select agent from history
        function selectAgentFromHistory(historyItem) {
            const agent = agents.find(a => a.name === historyItem.agentName);
            if (agent) {
                selectAgent(agent);
            }
            showChatHistory(); // Close history panel
        }

        // Generate agent response
        function generateAgentResponse(userMessage, agent) {
            const responses = {
                'NorthStar': [
                    'I\'ve analyzed your current positioning and recommend premium revenue recovery messaging.',
                    'Based on market analysis, targeting brands with $50k+ monthly revenue for premium services.',
                    'Your pricing supports $2k-10k+ services. Ready to create premium positioning strategy.',
                    'The market opportunity is significant. Let me propose a strategic roadmap for scaling.',
                    'I can help you transition from $100-500 tickets to premium $2k-10k+ services.'
                ],
                'Signal': [
                    'I can implement GA4 conversion tracking for pronirob.com right away.',
                    'Meta CAPI setup is crucial for accurate attribution. Implementation guide ready.',
                    'Let me optimize your tracking system for better revenue recovery.',
                    'Your tracking system needs optimization for premium service positioning.',
                    'I\'ve prepared a comprehensive analytics framework for your business.'
                ],
                'AutoOps': [
                    'I can automate your client onboarding, reducing manual work by 75%.',
                    'n8n workflows ready for deployment. Automation pipeline setup available.',
                    'Automation scales from 10 to 20 clients monthly without additional manual work.',
                    'Let me create automation systems that support your growth to $20k/month.',
                    'The automation framework is designed for scalable business operations.'
                ],
                'VoiceForge': [
                    'Your content strategy builds authority as revenue recovery expert.',
                    '30-day content calendar establishes thought leadership in e-commerce tracking.',
                    'LinkedIn content should focus: "Stop losing $10k+ monthly to tracking errors".',
                    'I can create content that positions you as the go-to expert in tracking optimization.',
                    'Let\'s build your personal brand as a business growth consultant.'
                ],
                'FlowConvert': [
                    'Your funnel needs premium positioning to justify $2k+ pricing.',
                    'Can optimize sales pages to convert at 5-8% instead of current 2-4%.',
                    'Revenue recovery positioning transforms from technical to strategic.',
                    'The conversion optimization strategy will increase your deal values significantly.',
                    'Let\'s reframe your service as revenue intelligence, not just tracking.'
                ]
            };

            const agentResponses = responses[agent.name] || [
                `Working on ${agent.role.toLowerCase()} optimization. What specific aspect would you like me to focus on?`,
                `Ready to provide ${agent.role.toLowerCase()} recommendations for business growth.`,
                `I'm available to help with ${agent.role.toLowerCase()} improvements and automation.`,
                `Let me analyze the current situation and provide strategic recommendations.`,
                `I can help optimize your ${agent.role.toLowerCase()} systems for better results.`
            ];

            return agentResponses[Math.floor(Math.random() * agentResponses.length)];
        }

        // Handle key press
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // Toggle group mode
        function toggleGroupMode() {
            const groupButton = event.currentTarget;
            isGroupMode = !isGroupMode;
            
            if (isGroupMode) {
                groupButton.classList.add('active');
                groupButton.textContent = 'üë• Active Group';
            } else {
                groupButton.classList.remove('active');
                groupButton.textContent = 'üìã Group Chat';
            }
        }

        // Refresh agents
        function refreshAgents() {
            loadAgents();
        }

        // Initialize dashboard
        function initDashboard() {
            loadAgents();
            
            // Set up auto-refresh for agent status
            setInterval(() => {
                console.log('Agent status refresh...');
            }, 30000);

            // Load some sample chat history to demonstrate functionality
            loadSampleHistory();
        }

        // Load sample chat history
        function loadSampleHistory() {
            const sampleHistory = [
                {
                    id: 1,
                    timestamp: '2:30 PM',
                    sender: 'user',
                    agent: 'NorthStar',
                    content: 'Help me create premium pricing strategy for my tracking services...',
                    agentName: 'NorthStar'
                },
                {
                    id: 2,
                    timestamp: '2:25 PM',
                    sender: 'agent',
                    agent: 'Signal',
                    content: 'I\'ve analyzed your current tracking setup and identified 3 critical issues that could be costing you 15-20% in attribution accuracy...',
                    agentName: 'Signal'
                },
                {
                    id: 3,
                    timestamp: '2:20 PM',
                    sender: 'user',
                    agent: 'AutoOps',
                    content: 'Can you automate my client onboarding process?',
                    agentName: 'AutoOps'
                }
            ];

            chatHistory = sampleHistory;
        }

        // Start dashboard when page loads
        document.addEventListener('DOMContentLoaded', initDashboard);

        // Handle window resize for mobile responsiveness
        window.addEventListener('resize', () => {
            const sidebar = document.getElementById('sidebar');
            if (window.innerWidth > 768) {
                sidebar.classList.remove('open');
            }
        });
    </script>
</body>
</html>